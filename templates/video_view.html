<!doctype html>
<html>

<head>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous" />
	<link href="/static/allpages.css" rel="stylesheet" />
	<link href="/static/login_bar.css" rel="stylesheet" />
	
	<!-- Bootstrap -->
	<link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.9.1/font/bootstrap-icons.css">

	<script type="text/javascript" src="/static/functions.js"></script>
</head>

<body>
	<div id="container">
		<div id="sidebar">
			<div class="headerLeft">
				<div class="symbol">
				<span class="bi bi-chevron-double-left"></span> 
				<p class="headerLeft_content">Youtube Sentiment Analyzer</p>
				</div>
			</div>

			<hr class="divider">

			<div class="user_bubble">

				<img class="two" width="130" height="100" src='static/Youtube_logo.png'>

			</div>

			<!-- Put user name under welcome message from session var. -->
			<div class="welcome_text">Welcome, {{session['user']}}!</div><br>

			<hr class="divider">

				<div class="buttons" id="buttons_text" style="margin-top: 0px;" 
				onclick="window.location.href='/';"><span class="bi bi-house-door-fill"></span> <span class="nav_text">Home</span></div>
				<div class="buttons" id="buttons_text" ><span class="bi bi-camera-video-fill"></span> <span class="nav_text">Top Videos</span></div>
				<div class="buttons" id="buttons_text" ><span class="bi bi-globe"></span> <span class="nav_text">About</span></div>

			<hr class="divider">

			<div class="buttons" id="buttons_text"  onclick="LoginFunctions.openLog('loginPopup')"><span class="bi bi-people-fill"></span> <span class="nav_text">Login</span></div>
			<div class="buttons" id="buttons_text" onclick="LoginFunctions.openReg('regPopup')"><span class="bi bi-person-bounding-box"></span> <span class="nav_text">Register</span></div>
			<div class="buttons" id="buttons_text" ><span class="bi bi-arrow-down-square-fill"></span> <span class="nav_text">Saved Videos</span></div>

			<hr class="divider">

			<div id="footer_area">
				&copy; 2023 Sapce Cats from Jupiter
			</div>
		</div>

		<script>
			function route_to(page) {
				window.location.href = page
			}
	    </script>
		
		<div id="content">
			<div class="top_header">
				<form action="/search_results" method="GET" class="wrap">
					<!-- search bar-->
					<input type="text" name="term" class="search_text" placeholder="Search Youtube for Videos..">
					<button type="submit" class="search"><span class="fa fa-search"></span></button>
				</form>		
			</div>
			<div class="all_body"> 
                <div>
                    <form method="POST" action="/video_view" name="watch?v">
                    <iframe src="https://www.youtube.com/embed/{{videoId}}" width="1085" height="500" frameborder="0"
                        allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture; web-share"
                        allowfullscreen></iframe>
                    </form>
                    <span class="video-title">{{videoTitle}}</span>
                <br />
                <div class="channel-profile">
                    <img class="rounded-circle" src="{{channelThumbnail}}" height="50">
                    <span class="channel-Title">{{channelTitle}} </span>
                </div>
                
                <span class="subscriberCount">
                    {{channelsubscriberCount}}
                    subscribers
                </span>

                <span class="like">
                    Likes
                    {{likeCount}}
                </span>

                <span class="ave_sent_score">
                    Average Sentiment Score: {{ave_sent_score}}
                </span>

                <span>
                    {{commentCount}}
                    Comments
                </span>
            <hr>

            </div>
            <br />
            {%for i in range(100)%}

            <div class="comments">

            <img class="rounded-circle" src="{{authorProfileImageUrl[i]}}">
            <span><strong>{{authorDisplayname[i]}}</strong></span>
            <br />
            <span>{{textDisplay[i]}}</span>
            <br />
            <span>Sentiment Score: {{sent_score[i]}}</span>
            </div>
        {%endfor%}

        </div>

        <div id="secondSidebar">
            <span class="all-text">
                <form action="/video_view/" method="POST">
                    <label> Sentiment filter:</label>
                    <input type="range" min="-1" max="1" value = "0"  name="sent_value">
                    <input type="submit">
                </form>
                <div class="slidecontainer">
    
                </div>

            <form action="/action_page.php" id="search_filter">
            <label for="keyword"></label>
            <input type="keyword" id="keyword" name="keyword"><br><br>
            <input type="button" onclick="filet_out()" value="Filter out">
            <input type="button" onclick="search_for()" value="Search for">
            </span>
        </div>
        </div>
    </div>

        <!-- will move this later -->
       <script>
        var slider = document.getElementById("myRange");
        var output = document.getElementById("sent_value");
        output.innerHTML = slider.value;

        slider.oninput = function() {
            output.innerHTML = this.value/100;
        }

        function filter_out() {
            var x = document.getElementById("keyword").form.id;
            document.getElementById("filter").innerHTML = x;
        }
        function search_for() {
            var x = document.getElementById("keyword").form.id;
            document.getElementById("filter").innerHTML = x;
        }
        function update(){
            var slider = document.getElementById("myRange");
            var output = document.getElementById("sent_va");
            output.innerHTML = slider.value/100;
        }

        
       </script>

       		<!-- login area -->
		<div id="loginPopup">
			<form method="POST" action="/">
				<button type="button" class="btn-close" aria-label="Close" onclick="LoginFunctions.closeLog('loginPopup')"></button>
				<div id="loginTitle">Login</div>
					<label for="username" id="formtxt"><b>Username</b></label>
					<input type="text" id="username" placeholder="Username" name="user_name" required>
					
					<label for="password" id="formtxt"><b>Password</b></label>
					<input type="password" id="password" placeholder="Password" name="password" required>
	
					<input type="checkbox"><label for="checkbox" id="formtxt">Remember my Login?</label>
	
					<button type="submit" id="submitBar">Submit</button>
			</form>
		</div>

		<!-- register area -->
		<div id="regPopup">
			<form action="/" method="POST">
				<button type="button" class="btn-close" aria-label="Close" onclick="LoginFunctions.closeReg('regPopup')"></button>
				<div id="loginTitle">Register</div>
				<div id="form-floating">
					<input type="email" class="form-control" id="floatEmail" name="email" placeholder="email">
					<label for="floatEmail"><b>Email Address</b></label>
				</div>
				<div id="form-floating">
					<input type="username" class="form-control" id="floatEmail" name="username" placeholder="username">
					<label for="floatEmail" id="formtxt"><b>Username</b></label>
				</div>
				<div id="form-floating">
					<input type="password" class="form-control" id="floatPass" name='password' placeholder="password">
					<label for="floatPass"><b>Password</b></label>
				</div>
				<input type="checkbox"><label for="checkbox" id="formtxt">I agree to donate my kidney's to the Sapce Cat's Team.</label>
			
				<button type="submit" id="submitBar">Submit</button>
			</form>
		</div>
       

</body>

</html>